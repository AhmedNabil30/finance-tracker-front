<div class="transaction-form">
  <h3>{{ isEditing ? 'Edit' : 'Add' }} Transaction</h3>
  <form [formGroup]="transactionForm" (ngSubmit)="onSubmit()">
    <!-- Transaction Type -->
    <div class="form-group">
      <label for="type">Type</label>
      <select id="type" formControlName="type" class="form-control">
        <option value="income">Income</option>
        <option value="expense">Expense</option>
      </select>
    </div>

    <!-- Amount -->
    <div class="form-group">
      <label for="amount">Amount</label>
      <input
        type="number"
        id="amount"
        formControlName="amount"
        class="form-control"
        [ngClass]="{ 'is-invalid': submitted && f['amount'].errors }"
      />
      <div *ngIf="submitted && f['amount'].errors" class="invalid-feedback">
        <div *ngIf="f['amount'].errors['required']">Amount is required</div>
        <div *ngIf="f['amount'].errors['min']">Amount must be greater than 0</div>
      </div>
    </div>

    <!-- Description -->
    <div class="form-group">
      <label for="description">Description</label>
      <input
        type="text"
        id="description"
        formControlName="description"
        class="form-control"
        [ngClass]="{ 'is-invalid': submitted && f['description'].errors }"
      />
      <div *ngIf="submitted && f['description'].errors" class="invalid-feedback">
        <div *ngIf="f['description'].errors['required']">Description is required</div>
      </div>
    </div>

    <!-- Category -->
    <div class="form-group">
      <label for="category">Category</label>
      <select id="category" formControlName="category" class="form-control">
        <option *ngFor="let category of categories" [value]="category">
          {{category}}
        </option>
      </select>
    </div>

    <!-- Date -->
    <div class="form-group">
      <label for="date">Date</label>
      <input
        type="date"
        id="date"
        formControlName="date"
        class="form-control"
        [ngClass]="{ 'is-invalid': submitted && f['date'].errors }"
      />
      <div *ngIf="submitted && f['date'].errors" class="invalid-feedback">
        <div *ngIf="f['date'].errors['required']">Date is required</div>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="form-actions">
      <button type="submit" class="btn btn-primary">
        {{ isEditing ? 'Update' : 'Add' }} Transaction
      </button>
      <button type="button" class="btn btn-secondary" (click)="onCancel()">
        Cancel
      </button>
    </div>
  </form>
</div>